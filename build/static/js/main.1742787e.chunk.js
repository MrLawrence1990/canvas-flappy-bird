(this.webpackJsonpball=this.webpackJsonpball||[]).push([[0],{12:function(t,i,s){},13:function(t,i,s){},14:function(t,i,s){"use strict";s.r(i);var e=s(0),a=s.n(e),h=s(4),n=s.n(h),r=(s(12),s(1)),c=s(2),o=s(6),l=s(5),u=(s(13),function(){function t(i,s){Object(r.a)(this,t),this.radius=i,this.color=s,this.vx=0,this.vy=0,this.x=0,this.y=0,this.candrod=!0,this.canvas=null,this.grv=1}return Object(c.a)(t,[{key:"paintTo",value:function(t){this.canvas||(this.canvas=t,this.ctx=t.getContext("2d"))}},{key:"toggleGrv",value:function(t){this.grv=t?-1:1}},{key:"paint",value:function(){this.canvas&&(this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius-1,0,2*Math.PI),this.ctx.fillStyle=this.color,this.ctx.fill())}},{key:"run",value:function(t){this.vy=this.vy+9.8*t*this.grv,this.y+=t*this.vy*80,this.paint()}}]),t}()),v=function(t,i){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(i-t+1)+t,10);default:return 0}},d=function(){function t(i){Object(r.a)(this,t),this.canvas=i,this.ctx=i.getContext("2d"),this.move_count=0}return Object(c.a)(t,[{key:"paint",value:function(){this.canvas&&(this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height))}},{key:"reset",value:function(t){this.inited=!0,this.color=function(){var t=Math.floor(128*(Math.random()+Math.random())),i=Math.floor(128*(Math.random()+Math.random())),s=Math.floor(128*(Math.random()+Math.random()));return"#"+t.toString(16)+i.toString(16)+s.toString(16)}(),this.width=v(10,60),this.height=v(200,this.canvas.height-100),this.x=this.canvas.width+100,this.up=Math.round(Math.random()),this.y=this.up?0:this.canvas.height-this.height,this.next_trigger=!1,this.triger_space=this.width+v(160,200),this.waiting=t}},{key:"setNext",value:function(t){this.next=t}},{key:"move",value:function(t){this.inited&&!this.waiting&&(this.x-=200*t,this.x<-100&&this.reset(!0),this.x+this.width<this.canvas.width+100-this.triger_space&&!this.next_trigger&&(this.next&&this.next.reset(),this.next_trigger=!0),this.paint())}}]),t}(),g=function(t){Object(o.a)(s,t);var i=Object(l.a)(s);function s(){var t;return Object(r.a)(this,s),(t=i.call(this)).pillars=[],t.pause=!1,t.score=0,t.t=.016,t}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var t=this;this.canvas=document.getElementById("cas"),this.ctx=this.canvas.getContext("2d"),this.ctx.font="oblique small-caps normal 24px Arial",this.ctx.strokeStyle="#ff7a45",this.ball=new u(20,"red",this.canvas),this.ball.paintTo(this.canvas),this.initPillar(),this.reset(),this.animate(),document.onkeydown=function(i){"Space"===i.code&&(t.pause&&(t.pause=!1,t.pillars[0].reset()),t.toggleBirdVy(!0))},document.onkeyup=function(i){"Space"===i.code&&t.toggleBirdVy(!1)},this.pause=!0}},{key:"initPillar",value:function(){for(var t,i,s=0;s<=10;s++)t=i||new d(this.canvas),10===s?t.setNext(this.pillars[0]):(i=new d(this.canvas),t.setNext(i)),this.pillars.push(t)}},{key:"animate",value:function(){var t=this;this.pause||(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.save(),this.ctx.fillStyle="rgba(255,255,255,0.2)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.restore(),this.ball.run(this.t),this.pillars.forEach((function(i){i.move(t.t),t.crash(i,t.ball)&&(t.pause=!0)})),this.score=this.score+.01,this.ctx.strokeText("score: ".concat(this.score.toFixed(2)),20,40)),window.requestAnimationFrame(this.animate.bind(this))}},{key:"crash",value:function(t,i){i.x+i.radius>t.x&&i.x<t.x+t.width&&(i.y<t.height&&t.up||i.y+i.radius>this.canvas.height-t.height&&!t.up)&&(alert("crash"),this.reset()),(i.y<=i.radius||i.y>=this.canvas.height-i.radius)&&(alert("crash"),this.reset())}},{key:"reset",value:function(){this.ball.x=200,this.ball.y=200,this.pillars.forEach((function(t){t.reset(!0)})),this.score=0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ball.run(this.t),this.ctx.strokeText("\u6309\u7a7a\u683c\u952e\u63a7\u5236",this.canvas.width-160,40),this.pause=!0}},{key:"toggleBirdVy",value:function(t){this.ball.toggleGrv(t)}},{key:"render",value:function(){return a.a.createElement("canvas",{id:"cas",width:"800",height:"400",style:{backgroundColor:"rgba(0,0,0,.1)"}})}}]),s}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,i,s){t.exports=s(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.1742787e.chunk.js.map